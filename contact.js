!function(){"use strict";function e(){document.getElementById("submit").className+=" hidden";var e=document.getElementById("gotcha-message");e.className=e.className.replace(/\bhidden\b/g,"")}function t(){var e=m.slice(1).replace(/[^\.@acdehimosw]/g,""),t=document.getElementById("name").value,n=document.getElementById("email").value,a=document.getElementById("subject").value,o=document.getElementById("message").value;n||(t="(Anonymous) "+t);var s="name="+encodeURIComponent(t)+"&_subject="+encodeURIComponent("[Personal Site] "+a)+"&message="+encodeURIComponent(o);n&&(s+="&email="+encodeURIComponent(n));var i=new XMLHttpRequest;i.open("POST","//formspree.io/"+e),i.setRequestHeader("Accept","application/json"),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){4===this.readyState&&(location.href="./contact-finish.html")},i.send(s)}function n(e,t,n){/^\s*$/.test(document.getElementById(t).value)&&e.push(n)}function a(e){var t=document.getElementById("email").value;""===t||i.test(t)||e.push("If you want to give me an email address, it needs to be a valid one.")}function o(){var e=[];n(e,"name","A name is required, even if it's a pseudonym. I'd like to know who to call you!"),a(e),n(e,"subject","A subject is required. Helps with sifting through emails."),n(e,"message","A message is required. Even if the title is the message, I'd prefer that to be explicit.");var o=document.getElementById("errors");if(e.length){for(var s="<p>Could you fix these problems for me before submitting this form?</p><ul>",i=0;i<e.length;i++)s+="<li>"+e[i]+"</li>";o.innerHTML=s+"</ul>",o.className=o.className.replace(/\bhidden\b/g,"")}else/\bhidden\b/.test(o.className)||(o.className+=" hidden"),t()}var s=!1,i=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,m="@mbef@gi23#jfski^\\l2anhp\x00m2r%etaud??voxwys&.*c<ozm",l=document.getElementById("contact");l.reset(),l.onsubmit=function(t){t=t||event,t.preventDefault(),t.stopPropagation(),s||(document.getElementById("gotcha").value?e():o())}}();