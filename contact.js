!function(){"use strict";function e(){document.getElementById("submit").className+=" hidden";var e=document.getElementById("gotcha-message");e.className=e.className.replace(/\bhidden\b/g,"")}function t(){var e=o.slice(1).replace(/[^\.@acdehimosw]/g,""),t=document.getElementById("name").value,n=document.getElementById("email").value,a=document.getElementById("subject").value,s=document.getElementById("message").value;n||(t="(Anonymous) "+t);var m="name="+encodeURIComponent(t)+"&_subject="+encodeURIComponent("[Personal Site] "+a)+"&message="+encodeURIComponent(s);n&&(m+="&email="+encodeURIComponent(n));var i=new XMLHttpRequest;i.open("POST","//formspree.io/"+e),i.setRequestHeader("Accept","application/json"),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){4===this.readyState&&(location.href="./contact-finish.html")},i.send(m)}function n(){function e(e){/^\s*$/.test(document.getElementById(e).value)&&n.push(m[e])}var n=[];e("name");var a=document.getElementById("email").value;""===a||s.test(a)||n.push(m.email),e("subject"),e("message");var o=document.getElementById("errors");n.length?(o.innerHTML="<p>Could you fix these problems for me before submitting this form?</p><ul><li>"+n.join("</li><li>")+"</li></ul>",o.className=o.className.replace(/\bhidden\b/g,"")):(/\bhidden\b/.test(o.className)||(o.className+=" hidden"),t())}var a=!1,s=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,o="@mbef@gi23#jfski^\\l2anhp\x00m2r%etaud??voxwys&.*c<ozm",m={name:"A name is required, even if it's a pseudonym.",email:"An email address must be valid if given.",subject:'A subject is required. "No subject" is okay.',message:'A message is required. "See title" works.'},i=document.getElementById("contact");i.reset(),i.onsubmit=function(t){t=t||event,t.preventDefault(),t.stopPropagation(),a||(document.getElementById("gotcha").value?e():n())},/[?&]w/.test(window.location.search)&&(document.getElementById("subject").value="Website design request",document.getElementById("email").value="Don't forget to leave me a way to get back to you!")}();