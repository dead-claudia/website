doctype html
meta(charset="utf-8")
meta(name="viewport" content="width=device-width,initial-scale=1")
link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.min.css")
link(rel="license" href="https://github.com/isiahmeadows/website/blob/master/LICENSE")
link(rel="stylesheet" href=resolve("page.css"))
link(rel="shortcut icon" href=resolve("favicon.ico"))

mixin page--link(name, file)
    a&attributes(navAttrs(name, file))
        block

//- page(title, file = FILE, name = title)
mixin page(name, file, title)
    - assert(name, "(mixin page) Page `name` required!")
    - title = title || name
    title Isiah Meadows - #{title}
    
    #content
        #header
            nav
                a(href=resolve("index.html")) Isiah Meadows

                div
                    .link.l0: +page--link("index.html", file) Home
                    .link.l1: +page--link("projects.html", file) Projects
                    .link.l2: +page--link("blog.html", file) Blog
                    .link.l3: +page--link("music.html", file) Music
                    .link.l4: a(href="https://github.com/isiahmeadows") Github
                    .link.l5: +page--link("contact.html", file) Contact

        //- Hack for 2-column layout
        #content-body
            #body-wrapper: div
                case file || FILE
                    when "index.html": h2.l0= name
                    when "projects.html": h2.l1= name
                    when "blog.html": h2.l2= name
                    when "music.html": h2.l3= name
                    when "contact.html": h2.l5= name
                    default: h2= name
                #body: block

            #license: div
                footer
                    small
                        p.
                            All content available on this site by Isiah Meadows is
                            licensed under the Creative Commons Attribution 4.0
                            International License, and all source code is licensed
                            under the ISC License, unless otherwise specified.
                        p: a(
                            target="_blank"
                            rel="license"
                            href="https://github.com/isiahmeadows/website/blob/master/LICENSE"
                        ) See here for the text of both of these licenses.
