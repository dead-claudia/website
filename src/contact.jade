include ./page.mixin.jade
link(rel="stylesheet" href="contact.css")

mixin control(id)
    div
        label(for=id, class={required: !!attributes.required}): block
        input(id=id)&attributes(attributes)

+page("Contact")
    p.
        You can always email me directly. My email is below. Otherwise, you can
        use the contact form provided below for convenience.

    .wrapper: include ./contact-email.mixin.jade

    noscript: p You need JavaScript enabled for this form to work.

    .form: form#contact(novalidate)
        div
            p #[span.required] = Required
                
            +control("name")(autocomplete="name" required) Name:
            +control("email")(autocomplete="email" type="email") E-mail:
            +control("subject")(autocomplete="off" required) Subject:

            div
                label.msg(for="message").required Message:
                textarea(autocomplete="off" required)#message

            input(type="hidden")#gotcha

            #errors.warning.hidden

            #submit-wrapper: input(type="submit" value="Send")#submit

            #gotcha-message.warning.hidden
                | Hidden field modified. Form locked. (If you are a human,
                | you might want to be careful messing with the source code
                img(src="wink.png" alt="winking face")
                | . And while you are at it, you can always reload the page.)

        small.
            Legal note: By submitting this form, you agree that it is not
            confidential, as I cannot guarantee any 100% safety or privacy
            through the Internet.

    script(src="contact.js")
